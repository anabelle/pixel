#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running Pre-Commit Checks..."

# 1. Run lint-staged for affected files
npx lint-staged || { echo "âŒ Linting/Testing failed. Commit aborted."; exit 1; }

# 2. Submodule sanity check (optional but good for agentic efficiency)
# Check if any submodules have unpushed commits
if git submodule status | grep -q "^+"; then
  echo "âš ï¸  NOTE: You have unpushed submodule changes."
fi

echo "âœ… All checks passed."
